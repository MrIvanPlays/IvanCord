From ecd626468c6673ffddff5f3587913343deae2b82 Mon Sep 17 00:00:00 2001
From: MrIvanPlays <pekov.ivan@abv.bg>
Date: Sat, 17 Aug 2019 22:12:32 +0300
Subject: [PATCH] Add PluginEnabledEvent


diff --git a/api/src/main/java/com/mrivanplays/ivancord/api/event/PluginEnabledEvent.java b/api/src/main/java/com/mrivanplays/ivancord/api/event/PluginEnabledEvent.java
new file mode 100644
index 00000000..f491ddad
--- /dev/null
+++ b/api/src/main/java/com/mrivanplays/ivancord/api/event/PluginEnabledEvent.java
@@ -0,0 +1,40 @@
+/*
+ * Copyright 2019 Ivan Pekov (MrIvanPlays)
+ * Copyright 2019 contributors
+
+ * Permission is hereby granted, free of charge, to any person obtaining a copy of
+ * this software and associated documentation files (the "Software"), to deal in the
+ * Software without restriction, including without limitation the rights to use, copy,
+ * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,
+ * and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
+
+ * The above copyright notice and this permission notice shall be included in all copies
+ * or substantial portions of the Software.
+
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
+ * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
+ * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
+ * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
+ * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+ * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ **/
+package com.mrivanplays.ivancord.api.event;
+
+import lombok.Data;
+import lombok.EqualsAndHashCode;
+import net.md_5.bungee.api.plugin.Event;
+import net.md_5.bungee.api.plugin.Plugin;
+
+/**
+ * Represents a event, called when a plugin was enabled
+ */
+@Data
+@EqualsAndHashCode(callSuper = false)
+public class PluginEnabledEvent extends Event
+{
+
+    /**
+     * The plugin which was enabled
+     */
+    private final Plugin plugin;
+}
diff --git a/api/src/main/java/net/md_5/bungee/api/plugin/PluginManager.java b/api/src/main/java/net/md_5/bungee/api/plugin/PluginManager.java
index 2d7526e5..ac0f9bc0 100644
--- a/api/src/main/java/net/md_5/bungee/api/plugin/PluginManager.java
+++ b/api/src/main/java/net/md_5/bungee/api/plugin/PluginManager.java
@@ -27,6 +27,7 @@ import java.util.jar.JarFile;
 import java.util.logging.Handler; // IvanCord
 import java.util.logging.Level;
 import com.mrivanplays.ivancord.api.event.PluginDisabledEvent; // IvanCord
+import com.mrivanplays.ivancord.api.event.PluginEnabledEvent; // IvanCord
 import lombok.RequiredArgsConstructor;
 import net.md_5.bungee.api.ChatColor;
 import net.md_5.bungee.api.CommandSender;
@@ -313,6 +314,9 @@ public class PluginManager
                 {
                     plugin.getDescription().getName(), plugin.getDescription().getVersion(), plugin.getDescription().getAuthor()
                 } );
+                // IvanCord start
+                callEvent( new PluginEnabledEvent( plugin ) );
+                // IvanCord end
             } catch ( Throwable t )
             {
                 ProxyServer.getInstance().getLogger().log( Level.WARNING, "Exception encountered when loading plugin: " + plugin.getDescription().getName(), t );
-- 
2.22.0.windows.1

